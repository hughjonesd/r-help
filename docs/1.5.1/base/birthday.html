<!DOCTYPE html><html><head><title>R: Probability of coincidences</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body> <div style='padding: 20pt; border: 2px solid black; text-align:center;'><b>This help topic is for R version 1.5.1. For the corresponding topic in the current version of R, see <a href='https://stat.ethz.ch/R-manual/R-patched/library/base/html/birthday.html'>https://stat.ethz.ch/R-manual/R-patched/library/base/html/birthday.html</a></b></div><div class="container">

<table style="width: 100%;"><tr><td>birthday {base}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='birthday'>Probability of coincidences</h2>

<h3>Description</h3>

<p>Computes approximate answers to a generalised &quot;birthday
paradox&quot; problem. <code>pbirthday</code> computes the probability of a
coincidence and <code>qbirthday</code> computes the number of observations
needed to have a specified probability of coincidence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qbirthday(prob = 0.5, classes = 365, coincident = 2)
pbirthday(n, classes = 365, coincident = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="birthday_:_classes">classes</code></td>
<td>
<p>How many distinct categories the people could fall into</p>
</td></tr>
<tr><td><code id="birthday_:_prob">prob</code></td>
<td>
<p>The desired probability of coincidence</p>
</td></tr>
<tr><td><code id="birthday_:_n">n</code></td>
<td>
<p>The number of people</p>
</td></tr>
<tr><td><code id="birthday_:_coincident">coincident</code></td>
<td>
<p>The number of people to fall in the same category</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The birthday paradox is that a very small number of
people, 23, suffices to have  a 50-50 chance that two of them have the
same birthday.  This function generalises the calculation to
probabilities other than 0.5, numbers of coincident events other than 2,
and numbers of classes other than 365.
</p>
<p>This formula is approximate, as the example below shows. For
<code>coincident=2</code> the exact computation is straightforward and may be
preferable. 
</p>


<h3>Value</h3>

<table>
<tr><td><code>qbirthday</code></td>
<td>

<p>Number of people needed for a probability <code>prob</code> that <code>k</code> of 
them have the same one out of <code>classes</code> equiprobable labels.
</p>
</td></tr>
<tr><td><code>pbirthday</code></td>
<td>
<p>Probability of the specified coincidence</p>
</td></tr>  
</table>


<h3>References</h3>

<p>Diaconis P, Mosteller F. &quot;Methods for studying coincidences&quot; 
JASA 84:853-861</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## the standard version
qbirthday() 
 ## same 4-digit PIN number 
qbirthday(classes=10^4)
 ## 0.9 probability of three coincident birthdays
qbirthday(coincident=3,prob=0.9)
## Chance of 4 coincident birthdays in 150 people
pbirthday(150,coincident=4)
## Accuracy compared to exact calculation 
x1&lt;- sapply(10:100, pbirthday)
x2&lt;-1-sapply(10:100, function(n)prod((365:(365-n+1))/rep(365,n)))
par(mfrow=c(2,2))
plot(x1,x2,xlab="approximate",ylab="exact")
abline(0,1)
plot(x1,x1-x2,xlab="approximate",ylab="error")
abline(h=0)
plot(x1,x2,log="xy",xlab="approximate",ylab="exact")
abline(0,1)
plot(1-x1,1-x2,log="xy",xlab="approximate",ylab="exact")
abline(0,1)
</code></pre>

<hr /><div style="text-align: center;">[<a href='/r-help/1.5.1/00index.html'>Package <em>base</em> version 1.5.1</a> ]</div>
</div>
</body></html>
