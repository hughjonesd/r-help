<!DOCTYPE html><html><head><title>R: Internal Objects in Package 'base'</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body> <div style='padding: 20pt; border: 2px solid black; text-align:center;'><b>This help topic is for R version 3.2.4-revised. For the current version of R, try <a href='https://stat.ethz.ch/R-manual/R-patched/library/base/html/base-internal.html'>https://stat.ethz.ch/R-manual/R-patched/library/base/html/base-internal.html</a></b></div><div class="container">

<table style="width: 100%;"><tr><td>base-internal {base}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='base-internal'>Internal Objects in Package <span class="pkg">base</span></h2>

<h3>Description</h3>

<p>Internal objects in the base package which are only user-visible
because of the special nature of the base namespace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.subset(x, ...)
.subset2(x, ...)

.getRequiredPackages(file = "DESCRIPTION", lib.loc = NULL,
                     quietly = FALSE, useImports = FALSE)
.getRequiredPackages2(pkgInfo, quietly = FALSE, lib.loc = NULL,
                      useImports = FALSE)

testPlatformEquivalence(built, run)

.isMethodsDispatchOn(onOff = NULL)

sys.load.image(name, quiet)
sys.save.image(name)

.row_names_info(x, type = 1L)
.set_row_names(n)

findPackageEnv(info)

lazyLoadDBfetch(key, file, compressed, hook)

.TAOCP1997init(seed)

.gt(x, i, j)
.gtn(x, strictly)

.primTrace(obj)
.primUntrace(obj)

.POSIXct(xx, tz = NULL)
.POSIXlt(xx, tz = NULL)
.difftime(xx, units)

.cache_class(class, extends)

.popath

.mapply(FUN, dots, MoreArgs)

.detach(pos)

.maskedMsg(same, pkg, by)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="base-internal_:_x">x</code></td>
<td>
<p>object from which to extract elements.</p>
</td></tr>
<tr><td><code id="base-internal_:_file">file</code></td>
<td>
<p>The full path to the &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file of a package.</p>
</td></tr>
<tr><td><code id="base-internal_:_lib.loc">lib.loc</code></td>
<td>
<p>a character vector describing the location of <span class="rlang"><b>R</b></span>
library trees to search through, or <code>NULL</code>.  The default value
of <code>NULL</code> corresponds to all libraries currently known to
<code>.libPaths()</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_quiet">quiet</code></td>
<td>
<p>logical.  Should this not give warnings or an error
if the package(s) are not found?</p>
</td></tr>
<tr><td><code id="base-internal_:_useImports">useImports</code></td>
<td>
<p>logical.  Should  the <code>Imports</code> field be processed?</p>
</td></tr>
<tr><td><code id="base-internal_:_quietly">quietly</code></td>
<td>
<p>logical: should message(s) be printed.</p>
</td></tr>
<tr><td><code id="base-internal_:_pkginfo">pkginfo</code></td>
<td>
<p>A processed &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file of class
<code>"packageDescription2"</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_built">built</code>, <code id="base-internal_:_run">run</code></td>
<td>
<p>platform strings of the form <code>"cpu-vendor-os"</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_name">name</code></td>
<td>
<p>name of image file to save or load.</p>
</td></tr>
<tr><td><code id="base-internal_:_x">x</code></td>
<td>
<p>an object with a <code>"row.names"</code> attribute, typically a
data frame.</p>
</td></tr>
<tr><td><code id="base-internal_:_type">type</code></td>
<td>
<p>integer.  Currently <code>type = 0</code> returns the internal
<code>"row.names"</code> attribute (possibly <code>NULL</code>), <code>type = 2</code>
the number of rows implied by the attribute, and <code>type = 1</code> the
latter with a negative sign for &lsquo;automatic&rsquo; row names.</p>
</td></tr>
<tr><td><code id="base-internal_:_n">n</code></td>
<td>
<p>integer.  The number of rows.</p>
</td></tr>
<tr><td><code id="base-internal_:_info">info</code></td>
<td>
<p>character string such as <code>"package:MASS"</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_key">key</code></td>
<td>
<p>the object name in a lazyload database.</p>
</td></tr>
<tr><td><code id="base-internal_:_file">file</code></td>
<td>
<p>the filepath to a lazyload database.</p>
</td></tr>
<tr><td><code id="base-internal_:_compressed">compressed</code></td>
<td>
<p>logical: are the values in the database compressed?</p>
</td></tr>
<tr><td><code id="base-internal_:_refhook">refhook</code></td>
<td>
<p>a load hook: see <code>unserialize</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_seed">seed</code></td>
<td>
<p>a length-one integer vector.</p>
</td></tr>
<tr><td><code id="base-internal_:_i">i</code>, <code id="base-internal_:_j">j</code></td>
<td>
<p>indices.</p>
</td></tr>
<tr><td><code id="base-internal_:_strictly">strictly</code></td>
<td>
<p>logical.</p>
</td></tr>
<tr><td><code id="base-internal_:_obj">obj</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="base-internal_:_xx">xx</code></td>
<td>
<p>a classless object to be placed into the class.</p>
</td></tr>
<tr><td><code id="base-internal_:_tz">tz</code></td>
<td>
<p>an optional time zone.</p>
</td></tr>
<tr><td><code id="base-internal_:_units">units</code></td>
<td>
<p>see <code>difftime</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_...">...</code></td>
<td>
<p>Arguments passed to non-dot name versions.</p>
</td></tr>
<tr><td><code id="base-internal_:_FUN">FUN</code></td>
<td>
<p>function to apply, found via <code>match.fun</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_dots">dots</code></td>
<td>
<p>list of arguments to vectorize over (vectors or lists of
strictly positive length, or all of zero length).</p>
</td></tr>
<tr><td><code id="base-internal_:_MoreArgs">MoreArgs</code></td>
<td>
<p>a list of other arguments to <code>FUN</code>.</p>
</td></tr>
<tr><td><code id="base-internal_:_pos">pos</code></td>
<td>
<p>an integer.</p>
</td></tr>
<tr><td><code id="base-internal_:_same">same</code></td>
<td>
<p>character vector of <em>same</em> objects, masking others.</p>
</td></tr>
<tr><td><code id="base-internal_:_pkg">pkg</code></td>
<td>
<p>character string naming the package which is masked from or by.</p>
</td></tr>
<tr><td><code id="base-internal_:_by">by</code></td>
<td>
<p>logical indicating if the masking happens <em>by</em>
<code>pkg</code>, or (<code>by = FALSE</code>) from <code>pkg</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions <code>.subset</code> and <code>.subset2</code> are essentially
equivalent to the <code>[</code> and <code>[[</code> operators,
except that methods dispatch does not take place.  This is to avoid
expensive unclassing when applying the default method to an object.  They
should not normally be invoked by end users.  Note that unlike the
operators they are builtins and not specials (all arguments are
evaluated) and hence do not allow missing arguments.
</p>
<p><code>.getRequiredPackages2</code> attaches all the packages mentioned in the
<code>Depends</code> field: failure to find a package is an error.  It also
checks the versions of the packages found against the <code>Depends</code> field.
</p>
<p><code>.getRequiredPackages</code> is a wrapper to
<code>.getRequiredPackages2</code> using a &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file.
</p>
<p><code>testPlatformEquivalence</code> is used to test if a package with
compiled code can safely be loaded into a build of <span class="rlang"><b>R</b></span>, which it does by
comparing their &lsquo;canonical&rsquo; <code>"cpu-vendor-os"</code> descriptions.
The default function omits the <code>vendor</code> part and allows small
mismatches elsewhere.
</p>
<p>The function <code>.isMethodsDispatchOn()</code> returns <code>TRUE</code> if
the S4 method dispatch has been turned on in the evaluator (usually by
loading package <span class="pkg">methods</span>).  It is meant for <span class="rlang"><b>R</b></span> internal use only.
</p>
<p><code>sys.save.image</code> is a system function that is called by <code>q()</code>
and its GUI analogs; <code>sys.load.image</code> is called by the startup code.
These functions should not be called directly and are subject to change.
</p>
<p><code>sys.save.image</code> closes all connections first, to ensure that it
is able to open a connection to save the image.  This is appropriate
when called from <code>q()</code> and allies, but reinforces the warning
that it should not be called directly.
</p>
<p><code>row.names</code> can be stored internally in compact form.
<code>.set_row_names(n)</code> generates that form for automatic row names
of length <code>n</code>, to be assigned to
<code>attr(&lt;a data frame&gt;, "row.names")</code>.  <code>.row_names_info</code>
gives information on the internal form of the row names for a data
frame: for details of what information see the argument <code>type</code>.
</p>
<p><code>.GenericArgsEnv</code> and <code>.ArgsEnv</code> are environments that
contain closures with the argument lists that the primitives would
have had had they been closures.  All the primitives that are internal
S3 generics have corresponding members of <code>.GenericArgsEnv</code> and
the remaining non-language-element primitives correspond to
<code>.ArgsEnv</code>.  See the &lsquo;R Internals&rsquo; manual for further
details.  They are used by <code>args</code> and
<code>print.default</code> and the QC functions <code>codoc</code>
and <code>checkS3methods</code>.
</p>
<p><code>findPackageEnv</code> is invoked by the unserialize code to set a
saved environment if possible.
</p>
<p><code>.TAOCP1997init</code> is the initialization code for the
<code>"Knuth-TAOCP"</code> RNG.
</p>
<p><code>.gt</code> and <code>.gtn</code> are callbacks from <code>rank</code> and
<code>is.unsorted</code> used for S3 classed objects.
</p>
<p><code>.primTrace</code> and <code>.primUntrace</code> are the primitive
functions underlying <code>trace</code> and <code>untrace</code>
respectively.
</p>
<p><code>.POSIXct</code>, <code>.POSIXlt</code> and <code>.difftime</code> are class
generators.
</p>
<p><code>.cache_class</code> caches the inheritance of an S4 class for use in
S3 method dispatch.  With <code>NULL</code> second argument it returns the
cached inheritance, for diagnostic use.
</p>
<p><code>.popath</code> is a variable created at startup which records where
the <span class="pkg">translations</span> package in use is.
</p>
<p><code>.mapply</code> and <code>.detach</code> are &lsquo;bare-bones&rsquo; versions for
use in other <span class="rlang"><b>R</b></span> packages.
</p>
<p><code>.maskedMsg</code> is a utility called both from <code>attach()</code>
and <code>library()</code> for consistency to produce the warning message.
</p>
<p>Objects starting <code>.C_</code> and <code>.F_</code> are references to
registered C and Fortran entry points.
</p>


<h3>Value</h3>

<p><code>.getRequiredPackages</code> and <code>.getRequiredPackages2</code>
return <code>invisible()</code>.
</p>
<p><code>testPlatformEquivalence</code> returns <code>TRUE</code> or <code>FALSE</code>.
</p>

<hr /><div style="text-align: center;">[<a href='/r-help/3.2.4-revised/00index.html'>Package <em>base</em> version 3.2.4-revised</a> ]</div>
</div>
</body></html>
