<!DOCTYPE html><html><head><title>R: Customising grid Drawing</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body> <div style='padding: 20pt; border: 2px solid black; text-align:center;'><b>This help topic is for R version 4.4.1. For the current version of R, try <a href='https://stat.ethz.ch/R-manual/R-patched/library/grid/html/drawDetails.html'>https://stat.ethz.ch/R-manual/R-patched/library/grid/html/drawDetails.html</a></b></div><div class="container"><main>

<table style="width: 100%;"><tr><td>drawDetails {grid}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2> Customising grid Drawing </h2>

<h3>Description</h3>

<p>These generic hook functions are called whenever a grid grob is drawn.
They provide an opportunity for customising the drawing of a
new class derived from grob (or gTree).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drawDetails(x, recording)
preDrawDetails(x)
postDrawDetails(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="x">x</code></td>
<td>
<p> A grid grob. </p>
</td></tr>
<tr><td><code id="recording">recording</code></td>
<td>
<p> A logical value indicating whether a grob
is being added to the display list or redrawn from the display list. </p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>NOTE:</strong> these functions have been largely superceded by the
<code>makeContent</code> and <code>makeContext</code> functions,
though they are still run and may still be useful in some contexts.
</p>
<p>These functions are called by the <code>grid.draw</code> methods for grobs
and gTrees.
</p>
<p><code>preDrawDetails</code> is called first during the drawing of a grob.
This is where any additional viewports should be pushed.  Note that
the default behaviour for grobs is to push any viewports in the
<code>vp</code> slot, and for gTrees is to also push and up any viewports in the
<code>childrenvp</code> slot so there is typically nothing to do here.
</p>
<p><code>drawDetails</code> is called next and is where any additional
calculations and graphical output should occur.
Note that the default behaviour
for gTrees is to draw all grobs in the <code>children</code> slot
so there is typically nothing to do here.
</p>
<p><code>postDrawDetails</code> is called last and should reverse anything
done in <code>preDrawDetails</code> (i.e., pop or up any viewports that were
pushed).  Note that the
default behaviour for grobs is to pop any viewports that were pushed
so there is typically nothing to do here.
</p>
<p>Note that <code>preDrawDetails</code> and <code>postDrawDetails</code> are
also called in the calculation of <code>"grobwidth"</code> and
<code>"grobheight"</code> units.
</p>


<h3>Value</h3>

<p>None of these functions are expected to return a value.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>References</h3>

<p> &quot;Changes to grid for R 3.0.0&quot;,
Paul Murrell, <em>The R Journal</em> (2013) 5:2, pages 148-160. </p>


<h3>See Also</h3>

 <p><code>grid.draw</code> and <code>makeContent</code> </p>

<hr /><div style="text-align: center;">[<a href='/r-help/4.4.1/00index.html'>Package <em>grid</em> version 4.4.1</a> ]</div></main>

</div>
</body></html>
